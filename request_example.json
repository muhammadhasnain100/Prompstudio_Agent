{
  "request_id": "req-12345",
  "execution_id": "exec-67890",
  "timestamp": "2025-01-15T10:00:00Z",
  "user_context": {
    "user_id": 1,
    "workspace_id": 5,
    "organization_id": 10,
    "roles": ["analyst", "sales"],
    "permissions": ["read:customers", "read:orders"],
    "attributes": {
      "assigned_region": "US-WEST",
      "department": "Sales"
    }
  },
  "user_prompt": "Show me top 10 customers by revenue this quarter",
  "data_sources": [
    {
      "data_source_id": 1,
      "name": "PostgreSQL Production",
      "type": "postgresql",
      "schemas": [
        {
          "schema_name": "public",
          "tables": [
            {
              "table_name": "customers",
              "table_type": "table",
              "row_count": 45000,
              "indexes": ["idx_region", "idx_segment"],
              "columns": [
                {
                  "column_name": "id",
                  "column_type": "integer",
                  "is_nullable": false,
                  "is_primary_key": true,
                  "is_foreign_key": false,
                  "column_comment": "Customer ID"
                },
                {
                  "column_name": "name",
                  "column_type": "varchar(255)",
                  "is_nullable": false,
                  "is_primary_key": false,
                  "is_foreign_key": false
                },
                {
                  "column_name": "revenue",
                  "column_type": "decimal(10,2)",
                  "is_nullable": true,
                  "is_primary_key": false,
                  "is_foreign_key": false
                },
                {
                  "column_name": "region",
                  "column_type": "varchar(50)",
                  "is_nullable": true
                },
                {
                  "column_name": "email",
                  "column_type": "varchar(255)",
                  "is_nullable": false,
                  "pii": true
                }
              ]
            }
          ]
        }
      ],
      "governance_policies": {
        "row_level_security": {
          "enabled": true,
          "rules": [
            {
              "condition": "region IN (SELECT region FROM user_access WHERE user_id = {user_id})",
              "description": "Users can only see customers in their assigned regions"
            }
          ]
        },
        "column_masking": {
          "enabled": true,
          "rules": [
            {
              "column": "email",
              "condition": "region != {user.attributes.assigned_region}",
              "masking_function": "email_mask",
              "description": "Mask emails for users outside assigned region"
            }
          ]
        }
      }
    }
  ],
  "selected_schema_names": ["public"],
  "execution_context": {
    "max_rows": 1000,
    "timeout_seconds": 30
  },
  "ai_model": "meta-llama/llama-4-scout-17b-16e-instruct",
  "temperature": 0.1,
  "include_visualization": true
}

